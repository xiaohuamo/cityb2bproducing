<!doctype html>
<html>

<head>

<meta name="viewport" id="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Label Print - 微奖网</title>


<script type="text/javascript" src="__STATIC__/product/js/jquery-1.8.2.min.js"></script>

<script language="javascript" src="__STATIC__/product/lodop/LodopFuncs.js"></script>

<style type="text/css">
	body {
		min-width: 800px;

		user-select: none;
		-moz-user-select: none;
	}

	.panel-left{
		display: inline-block;
		position: relative;
		float: left;
		width: 70%;
		height: 98vh;
		background: #eee;
	}

	.panel-right{
		display: inline-block;
		position: relative;
		width: 29%;
		height: 98vh;
		background: #2bcade;
	}

	.btnbox {
		display: inline-block;
		border: 1px solid #eee;
		height: 4rem;
		line-height: 4rem;
		text-align: center;
		margin: 0.5%;

		background: lightgreen;
	}

	.btnbox.selected {
		background: #FD5001  !important;
		color: white;
	}

	.btnbox.disabled {
		background: #ddd !important;
	}

	.btnbox.printed {
		background: #ddd;
		color: white;
	}

	.operator-panel .btnbox{
		width: 19%;
	}

	.order-index-panel .btnbox{
		width: 11%;
	}

	.order-panel .btnbox{
		width: 8%;
	}

	.detail-panel {
		padding: 3%;
		border: 1px solid #eee;
		height: 30vh;
		background: #2bcade;

	}

	.detail-panel .info{
		height: 35px;
		line-height: 35px;
	}

	.detail-panel .info span{
		display: inline-block;
	}

	.detail-panel .info .sequense-no{
		width: 12%;
	}
	.detail-panel .info .phone{
		width: 40%;
		text-align:center;
	}

	.detail-panel .info .name{
		width: 44%;
		text-align:right;
	}

	.detail-panel .address {
		height: 50px;
		margin: 20px 0 40px 0;
		font-size: 1.5rem
	}

	.detail-panel .adjust-order-btn {
		width: 50%;
		height: 50px;
		line-height: 50px;
		text-align: center;
		display: block;
		margin: 30px auto 0 auto;
		border: 1px solid #eee;
		text-decoration: none;
		color: black;
		background: lightgreen;
	}

	.detail-panel .adjust-order-btn.disabled{
		background: #ddd !important;
	}

	.copy-adjust-panel .btnbox{
		width: 30%;
	}

	.copy-adjust-input {
		text-align: center;
		height: 74px;
		line-height: 74px;
	}

	.copy-adjust-input span{
		display: inline-block;
		border: 1px solid #eee;
		width: 40px;
		height: 40px;
		line-height: 40px;
		text-align: center;
	}

	.copy-adjust-input input{
		height: 40px;
		width: 80px;
		text-align: center;
		font-size: 1.6rem;
	}

	.print-btn {
		text-align: center;
	}
	.print-btn.print button{
		width: 70%;
		height:16vh;
		background-color: #ffcd38;
		font-size: 50px;
		font-weight: 600;
		margin: 5px;
	}

	.print-btn.preview button{
		width: 35%;
		height:50px;
		background-color: #2bb8aa;
	}

	.print-btn.dropNum button{
		width: 35%;
		height:50px;
		background-color: #eee;
	}

	.nav {
		background: #eee;
		line-height: 10vh;
	}
	.nav label{
		line-height: 8vh;
		color: #f3c;
	    border: 1px solid #f3c;
	    padding: 15px;
	    border-radius: 10px;
	    margin: 0 20px 0 15px;
	}

	.nav .select{
		background: #FD5001 ;
		color: white;
		padding: 15px 15px;
	}

	.select-panel {
		position: fixed;
		width: 30%;
		height: 80vh;
		overflow-y: scroll;
		background: #2bcade;
		z-index: 2;
		left: 20%;
		top: 10vh;
		padding: 2%;
		display: none;
	}

	.select-panel .select-item {
		display: block;
		height: 50px;
		line-height: 50px;
		text-align: center;
		background: lightgreen;
		margin: 5% 1%;
		text-decoration: none;
	}

	.drop-num-panel {
		background: #2bcade;
		padding:2%;
		position: 	fixed;
		height: 	60vh;
		width: 	60vw;
		z-index: 	9;
		top: 	20vh;
		left: 	3vw;
		min-width: 	500px;
		display: none;
	}

	.drop-num-panel .btnbox{
		width: 60px;
	}
</style>

</head>

<body>
<div>
	<div class="panel-left">
	<div class='nav'>
	<label>Deliver Date:</label>
	<span  id="current_date" class='select' data-target='date-select' style="color: rgb(3, 169, 244); font-size: 20px; font-weight: 600;" >2022-03-03</span>

	<div class='select-panel date-select'>
					<a class='select-item' href="/company/labelprint?date=2022-02-26&ref_seq_num=2&bid=2&data_resource=2">
				2022-02-26
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-02-28&ref_seq_num=2&bid=2&data_resource=2">
				2022-02-28
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-03-01&ref_seq_num=2&bid=2&data_resource=2">
				2022-03-01
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-03-02&ref_seq_num=2&bid=2&data_resource=2">
				2022-03-02
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-03-03&ref_seq_num=2&bid=2&data_resource=2">
				2022-03-03
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-03-04&ref_seq_num=2&bid=2&data_resource=2">
				2022-03-04
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-03-05&ref_seq_num=2&bid=2&data_resource=2">
				2022-03-05
			</a>
					<a class='select-item' href="/company/labelprint?date=2022-03-07&ref_seq_num=2&bid=2&data_resource=2">
				2022-03-07
			</a>
			</div>

	<label>Business:</label>

	<span id= "current_business" class='select' data-target='business-select' style="color: rgb(3, 169, 244); font-size: 20px; font-weight: 600;">dnl2b商家端</span>

	<div class='select-panel business-select'>
					<a  class='select-item' href="/company/labelprint?date=2022-03-03&ref_seq_num=1&bid=319188&data_resource=1">
				dnl2b商家端
			</a>
			</div>


</div>
		<!-- Left -->
		<div class="operator-panel" style="    background: #ddd;">
			<!-- 操作员选择 -->
							<span class='btnbox' data-user-id='204434'>hh</span>
							<span class='btnbox' data-user-id='217093'>DNLMeats</span>
					</div>

		<div class='order-index-panel'>
			<!-- 订单快速检索 -->
			<span class='btnbox'>1-50</span>
			<span class='btnbox'>51-100</span>
			<span class='btnbox'>101-150</span>
			<span class='btnbox'>151-200</span>
			<span class='btnbox'>201-250</span>
			<span class='btnbox'>251-300</span>
			<span class='btnbox'>More</span>
		</div>

		<div class='order-panel'>
			<!-- 订单统配号 列表 -->
						<span class='btnbox printed'>1</span>
						<span class='btnbox printed'>2</span>

					</div>
	</div>


	<div class='panel-right'>
		<!-- right -->

		<div>
			<!-- 打印份数 -->
			<div class='copy-adjust-panel' style="margin: 1rem 1rem;">
				<!-- 快速按钮 1-6 -->
				<span class='btnbox selected'>1</span>
				<span class='btnbox'>2</span>
				<span class='btnbox'>3</span>
				<span class='btnbox'>4</span>
				<span class='btnbox'>5</span>
				<span class='btnbox'>6</span>
			</div>

			<div class='copy-adjust-input'>
				<!-- 份数输入 -->
				<span onClick='reducePrintCopy(1)'>-</span>
				<input name="printCopy" class='printCopy' value='1'>
				<span onClick='increasePrintCopy(1)'>+</span>
			</div>



			<div class='print-btn print'>
				<button>Print</button>
			</div>

			<div style="    text-align: center;">
			<span   class='print-btn dropNum'>
				<button onClick="$('.drop-num-panel').show();">Drop Num</button>

			</span>

			<span  class='print-btn preview'>
				<button>Preview</button>
			</span>


			</div>



		</div>
		<div class='detail-panel'>
			<!-- 订单信息 -->
			<!-- <div class='info'>
				<span class='sequense-no'>68</span>
				<span class='phone'>0433813332</span>
				<span class='name'>Jack Wang</span>
			</div>

			<div class='address'>
				27 signature blvd pointcook 3030 vic
			</div>

			<button class='adjust-order-btn'>Adjust Order</button> -->
		</div>

	</div>
</div>

<div class='drop-num-panel'>
	<!-- drop num pop up -->
		<span class='btnbox' data-dropnum ='1'>1</span>
		<span class='btnbox' data-dropnum ='2'>2</span>

	</div>

<script type="text/javascript">
	var PRINT_MODE_SINGLE_LABEL_PER_PAGE = 'SINGLE_LABEL_PER_PAGE';
	var PRINT_MODE_THREE_LABEL_PER_PAGE = 'THREE_LABEL_PER_PAGE';

	var parsedOrders1 = '{"20220301200619243230":{"orderId":"20220301200619243230","first_name":"RED CLIFF(RED CLIFF)","last_name":"","address":"4\/256 Queen St, Melbourne VIC 3000, Australia","phone":"0396021886","message_to_business":"3 ctns caryfish","logistic_truck_No":"1","logistic_sequence_No":"1","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"74273236915866472119","subtitle":"offline|Delivery  CustId:321143 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >RED CLIFF(RED CLIFF)<\/strong>"},"20220301205955204575":{"orderId":"20220301205955204575","first_name":"LANTERN(LANTERN)","last_name":"","address":"533-555 High St, Melton West VIC 3337, Australia","phone":"0452280120","message_to_business":"","logistic_truck_No":"1","logistic_sequence_No":"2","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"85883733031345768918","subtitle":"offline|Delivery  CustId:321202 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >LANTERN(LANTERN)<\/strong>"},"20220302103734158897":{"orderId":"20220302103734158897","first_name":"PHUOC(Phuoc)","last_name":"","address":"2D Windsor Ave, Springvale VIC 3171, Australia","phone":"0422389733","message_to_business":"","logistic_truck_No":"2","logistic_sequence_No":"3","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"66721746816767680892","subtitle":"offline|Delivery  CustId:321258 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >PHUOC(Phuoc)<\/strong>"},"20220302103820149278":{"orderId":"20220302103820149278","first_name":"THAI DELIGHT(THAI DELIGHT)","last_name":"","address":"19 Scott St, Melton VIC 3337, Australia","phone":"0406024249","message_to_business":"","logistic_truck_No":"2","logistic_sequence_No":"4","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"17544179663080540601","subtitle":"offline|Delivery  CustId:320100 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >THAI DELIGHT(THAI DELIGHT)<\/strong>"},"20220302104113169802":{"orderId":"20220302104113169802","first_name":"Normanby(Normanbys Functions &","last_name":"","address":"Normanby Ave, Sunshine West VIC 3020, Australia","phone":"0410526627","message_to_business":"","logistic_truck_No":"3","logistic_sequence_No":"5","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"68765323139138443416","subtitle":"offline|Delivery  CustId:319310 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Normanby(Normanbys Functions &<\/strong>"},"20220302104200586111":{"orderId":"20220302104200586111","first_name":"ENJOY CAFE(ENJOY CAFE)","last_name":"","address":"17-19 Somerton Park Dr, Campbellfield VIC 3061, Australia","phone":"0435850768","message_to_business":"","logistic_truck_No":"3","logistic_sequence_No":"6","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"10620859841511785259","subtitle":"offline|Delivery  CustId:321241 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >ENJOY CAFE(ENJOY CAFE)<\/strong>"},"20220302104307202614":{"orderId":"20220302104307202614","first_name":"CHEF(CHEF)","last_name":"","address":"14-16 Westwood Dr, Ravenhall VIC 3023, Australia","phone":"963330","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"7","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"19828465127417197872","subtitle":"offline|Delivery  CustId:321177 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >CHEF(CHEF)<\/strong>"},"20220302111740179435":{"orderId":"20220302111740179435","first_name":"ALA(AL-Abrar)","last_name":"","address":"Unit 3\/40 Stephen Rd, Dandenong South VIC 3175, Australia","phone":"0417462096","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"8","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"56165143688859349412","subtitle":"offline|Delivery  CustId:321243 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >ALA(AL-Abrar)<\/strong>"},"20220302114134200874":{"orderId":"20220302114134200874","first_name":"AUSWAY(AUSWAY)","last_name":"","address":"8 George St, Blackburn VIC 3130, Australia","phone":"0411962828","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"9","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"90394543042547432117","subtitle":"offline|Delivery  CustId:321262 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >AUSWAY(AUSWAY)<\/strong>"},"20220302122834174858":{"orderId":"20220302122834174858","first_name":"THAI XUONG(THAI XUONG)","last_name":"","address":"156 Victoria St, Richmond VIC 3121, Australia","phone":"94286784","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"10","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"16748275871974593043","subtitle":"offline|Delivery  CustId:321264 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >THAI XUONG(THAI XUONG)<\/strong>"},"20220302170023653619":{"orderId":"20220302170023653619","first_name":"BENTO KING(bento king)","last_name":"","address":"288 Little Lonsdale St, Melbourne VIC 3000, Australia","phone":"0447771980","message_to_business":"","logistic_truck_No":"9","logistic_sequence_No":"11","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"60850608714437976701","subtitle":"offline|Delivery  CustId:321229 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >BENTO KING(bento king)<\/strong>"},"20220302170111533133":{"orderId":"20220302170111533133","first_name":"Jiangnan Noodle House(Jiangnan","last_name":"","address":"315 Glenelg Hwy, Smythes Creek VIC 3351, Australia","phone":"1","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"12","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"16421157572123700637","subtitle":"offline|Delivery  CustId:320521 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Jiangnan Noodle House(Jiangnan<\/strong>"},"20220302170211175822":{"orderId":"20220302170211175822","first_name":"N CANTEEN BLA(NOODLE CANTEEN B","last_name":"","address":"1221A Howitt Street, Wendouree VIC 3355, Australia","phone":"0353399978","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"13","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"15421127036096961006","subtitle":"offline|Delivery  CustId:320467 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >N CANTEEN BLA(NOODLE CANTEEN B<\/strong>"},"20220302170310568968":{"orderId":"20220302170310568968","first_name":"NEW DAVID(NEW DAVID)","last_name":"","address":"The New Butcher Shop, 1223B Howitt Street, Wendouree VIC 3355, Australia","phone":"0421165223","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"14","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"10913106136171329511","subtitle":"offline|Delivery  CustId:320578 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >NEW DAVID(NEW DAVID)<\/strong>"},"20220302170341207340":{"orderId":"20220302170341207340","first_name":"golden up(golden up)","last_name":"","address":"1231 Howitt Street, Wendouree VIC 3355, Australia","phone":"0417143772","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"15","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"15671453938722663296","subtitle":"offline|Delivery  CustId:320495 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >golden up(golden up)<\/strong>"},"20220302170441214086":{"orderId":"20220302170441214086","first_name":"Honeyboy(Honeyboy)","last_name":"","address":"514 Hampton St, Hampton VIC 3188, Australia","phone":"0481265527","message_to_business":"","logistic_truck_No":"3","logistic_sequence_No":"16","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"19982098121126602503","subtitle":"offline|Delivery  CustId:321154 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Honeyboy(Honeyboy)<\/strong>"},"20220302170526175910":{"orderId":"20220302170526175910","first_name":"Sushi Nova(Sushi Nova)","last_name":"","address":"Shop 3\/1 Eastwood St, Ballarat Central VIC 3350, Australia","phone":"0432713059","message_to_business":"","logistic_truck_No":"3","logistic_sequence_No":"17","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"11357336492201794631","subtitle":"offline|Delivery  CustId:320496 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Sushi Nova(Sushi Nova)<\/strong>"},"20220302180456702220":{"orderId":"20220302180456702220","first_name":"Noodle lover(Noodle lover)","last_name":"","address":"172 Main St, Bacchus Marsh VIC 3340, Australia","phone":"0423590138","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"18","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"80880724231421914812","subtitle":"offline|Delivery  CustId:321153 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Noodle lover(Noodle lover)<\/strong>"},"20220302183208173179":{"orderId":"20220302183208173179","first_name":"Buffalo Boy(Buffalo Boy)","last_name":"","address":"279 Bay St, Brighton VIC 3186, Australia","phone":"0414489877","message_to_business":"\u4e94\u82b1\u80892\u7247","logistic_truck_No":"3","logistic_sequence_No":"19","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"21914798781382226216","subtitle":"offline|Delivery  CustId:321151 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Buffalo Boy(Buffalo Boy)<\/strong>"},"20220302184820112340":{"orderId":"20220302184820112340","first_name":"Goon BBQ(Goon BBQ)","last_name":"","address":"270 Smith St, Collingwood VIC 3066, Australia","phone":"0426439337","message_to_business":"","logistic_truck_No":"4","logistic_sequence_No":"20","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"11168448401833115844","subtitle":"offline|Delivery  CustId:320942 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >Goon BBQ(Goon BBQ)<\/strong>"},"20220302192637248728":{"orderId":"20220302192637248728","first_name":"HKFoodie(HKFoodie)","last_name":"","address":"T30 m-city","phone":"0450223007","message_to_business":"\u5e97\u8001\u677f\u6ca1\u6709\u5207\u9aa8\u5200\uff0c\u6240\u4ee5\u732a\u9aa8\u8981\u5207\u6210\u5c0f\u5757\uff0c\u6211\u5df2\u6536\u4eba\u5de5\u8d39","logistic_truck_No":"4","logistic_sequence_No":"21","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"20733998041516594881","subtitle":"offline|Delivery  CustId:321023 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >HKFoodie(HKFoodie)<\/strong>"},"20220302195030200544":{"orderId":"20220302195030200544","first_name":"ILC(I LOVE)","last_name":"","address":"39 Rose Ln, Melbourne VIC 3000, Australia","phone":"0385940609","message_to_business":"","logistic_truck_No":"2","logistic_sequence_No":"22","logistic_stop_No":"0","logistic_delivery_date":"1646236800","logistic_suppliers_info":"(Y)","logistic_suppliers_count":"1","redeem_code":"22838289621354009649","subtitle":"offline|Delivery  CustId:321218 <br>CustName:<strong  style=\\\"width: 100%;font-size:25px;font-weight:bolder\\\" >ILC(I LOVE)<\/strong>"}}';


var parsedOrders = JSON.parse(parsedOrders1);

	console.log(parsedOrders);
	var DEFAULE_PAGE_SIZE = 50;
	var DEFAULT_PRINT_MODE = PRINT_MODE_SINGLE_LABEL_PER_PAGE;

	var ref_seq_num ='1';

	$(function(){



		  window.setInterval(index, 1500);

		if ($('.operator-panel .btnbox').length === 1) {
			$('.operator-panel .btnbox').addClass('selected');
		}

		$('body').on("click", ".operator-panel .btnbox", function(){
			$(this).siblings('.btnbox').removeClass('selected');
			$(this).toggleClass('selected');

			updatePrintBtnStatus();
		})

		$('body').on("click", ".order-index-panel .btnbox", function(){
			if (isOperatorSelected() === false) return false;

			$(this).siblings('.btnbox').removeClass('selected');
			$(this).addClass('selected');

			renderPageContent($(this).data('page'), DEFAULE_PAGE_SIZE);

			updatePrintBtnStatus();
		})

		$('body').on("click", ".order-panel .btnbox", function(){
			if (isOperatorSelected() === false) return false;

			$(this).siblings('.btnbox').removeClass('selected');
			$(this).toggleClass('selected');

			var orderId = $(this).data('order-id');
			renderDetailPanel(orderId);

			var order = parsedOrders[orderId];
			setSelectedDropNum(order.logistic_stop_No);

			updatePrintBtnStatus();
		})

		$('body').on("click", ".copy-adjust-panel .btnbox", function(){
			if (isOperatorSelected() === false) return false;

			$(this).siblings('.btnbox').removeClass('selected');
			$(this).addClass('selected');

			setPrintCopy($(this).html());

			updatePrintBtnStatus();
		})

		$('body').on("click", ".drop-num-panel .btnbox", function(){
			if (isOperatorSelected() === false) return false;
			var dropNum = $(this).html();
			setDropNum(dropNum);
			setSelectedDropNum(dropNum);
			$('.drop-num-panel').hide();
		})

		$('body').on("click", ".adjust-order-btn", function(){
			if (isOperatorSelected() === false) return false;
			var url = '/company/customer_order_detail?id=' + $(this).data('order-id');
			window.open(url, '_blank');
		})


		$('body').on("click", ".nav .select", function(){
			var target = $(this).data('target');
			$('.select-panel').not('.'+target).hide();
			$('.select-panel.'+target).toggle();
		})

		$('body').on("click", ".print button", function(){
			dropNumberPopUp(function(){
				print();
			})

            var orderId = $('.order-panel .btnbox.selected').data('order-id');

		})

		$('body').on("click", ".preview button", function(){
			dropNumberPopUp(function(){
				preview();
			})
		})




		renderOrderList(1, DEFAULE_PAGE_SIZE);

		updatePrintBtnStatus();
	});


   function index(){
			$('#current_date').css('color','#03a9f4');  //默认值
			$('#current_business').css('color','#03a9f4');  //默认值
			setTimeout(" $('#current_date').css('color','#ffffff')",1000); //第一次闪烁
				setTimeout(" $('#current_business').css('color','#ffffff')",1000); //第一次闪烁

		};


	function renderOrderList(page, pageSize) {
		renderPager(pageSize);
		renderPageContent(page, pageSize);
		selectPager(page);
	}

	function renderPager(pageSize) {
		var pagerContext = $('.order-index-panel');
		pagerContext.html(' ');//clear content

		var total = Object.keys(parsedOrders).length;
		var page = 1;

		for (var i = 1; i <= total; i+=pageSize) {
			var start = i;
			var end = i + DEFAULE_PAGE_SIZE - 1

			if (total < end) {
				end = total;
			}

			pagerContext.append(
				$('<span>').addClass('btnbox').html(start + '-' + end).attr('data-page',page)
			);

			page ++;
		}
	}

	function renderPageContent(page, pageSize) {
		var pageContext = $('.order-panel');
		pageContext.html(' ');////clear content

		var keys = Object.keys(parsedOrders);

		var startIndex = (page - 1) * pageSize;
		var endIndex = pageSize * page - 1;

		if (endIndex > keys.length) {
			endIndex = keys.length - 1 ;
		}

		if (startIndex > keys.length) {
			startIndex = keys.length - 1 ;
		}

		for (var i = startIndex; i <= endIndex; i++) {
			var order = parsedOrders[keys[i]];

			pageContext.append(
				$('<span>').addClass('btnbox').html(order.logistic_sequence_No).attr('data-order-id',order.orderId)
			);
		}
	}

	function selectPager(page) {
		$('.order-index-panel .btnbox').removeClass('selected');
		$('.order-index-panel .btnbox[data-page="'+page+'"]').addClass('selected');
	}

	function renderDetailPanel(orderId) {
		var context = $('.detail-panel');
		context.html(' ');//clear content;
        var data_source1 ='1';
		var order = parsedOrders[orderId];

		context.append(
		$('<div>')
			.addClass('info')
			.append(
				$('<span>').addClass('sequense-no').html(order.logistic_sequence_No)
			).append(
				$('<span>').addClass('phone').html(order.phone)
			).append(
				$('<span>').addClass('name').html(order.first_name + " " + order.last_name)
			)
		).append(
			$('<div>').addClass('address').html(order.address)
		)

		if (data_source1==1) {
			context.append(
				$('<span>').addClass('adjust-order-btn').attr('data-order-id', order.orderId).html('Adjust Order')
			)
		}

	}

	function setPrintCopy(copyNum) {
		$('input.printCopy').val(copyNum);
	}
	function increasePrintCopy(copyNum) {
		if (isOperatorSelected() === false) return false;

		var copy = $('input.printCopy').val();
		$('input.printCopy').val(parseInt(copy) + parseInt(copyNum));
		$('.copy-adjust-panel .btnbox').removeClass('selected');

		updatePrintBtnStatus();
	}
	function reducePrintCopy(copyNum) {
		if (isOperatorSelected() === false) return false;

		var copy = $('input.printCopy').val();
		if (copy - copyNum < 0) return;
		$('input.printCopy').val(copy - copyNum);
		$('.copy-adjust-panel .btnbox').removeClass('selected');

		updatePrintBtnStatus();
	}

	function isOperatorSelected() {
		return $('.operator-panel .btnbox.selected').length === 1;
	}

	function shouldPrintEnable(){
		return $('.operator-panel .btnbox.selected').length === 1
			&& $('.order-panel .btnbox.selected').length > 0
			&& $('input.printCopy').val() != 0;
	}

	function updatePrintBtnStatus() {
		if (shouldPrintEnable()) {
			$('.print-btn button').attr('disabled', false);
		} else {
			$('.print-btn button').attr('disabled', true);
		}

		var btnboxGroup = $('.order-index-panel .btnbox, .order-panel .btnbox, .copy-adjust-panel .btnbox, .copy-adjust-input span, .adjust-order-btn, .drop-num-panel .btnbox');
		if (isOperatorSelected()) {
			btnboxGroup.removeClass('disabled');

		} else {
			btnboxGroup.addClass('disabled');
		}
	}

	function setSelectedDropNum(dropNum) {
		$('.drop-num-panel .btnbox').removeClass('selected');
		$('.drop-num-panel .btnbox[data-dropnum="'+dropNum+'"]').addClass('selected');
	}

	var setDropNumCallback;
	function setDropNum(dropNum) {
		// set local js data
		var orderId = $('.order-panel .btnbox.selected').data('order-id');
		parsedOrders[orderId].logistic_stop_No = dropNum;

		//trigger ajax to set remote;
		$.ajax({
				url:"/company/set_dropnum_ajax",
				type:"POST",
				data: {
					orderId:orderId,
					dropNum:dropNum,
				}
			}).done(function(d){
			   	if (typeof setDropNumCallback ==="function"){
			   		setDropNumCallback();
			   	}
			})
	}

	function dropNumberPopUp(callback) {
		var orderId = $('.order-panel .btnbox.selected').data('order-id');
		if (!orderId) return;
		//if (parsedOrders[orderId].logistic_stop_No == 0) {

		if (ref_seq_num == 2) {
			$('.drop-num-panel').show();
			setDropNumCallback = callback;
		} else {
			if (typeof callback ==="function"){
		   		callback();
		   	}
		}
	}

</script>


<script type="text/javascript">
	var LODOP;

	function init() {
		LODOP = getLodop();
		LODOP.PRINT_INIT("CityB2B-打印机预览");
		LODOP.SET_PRINT_PAGESIZE(1, '3.6 in', '7 in', "");

		$('.order-panel .btnbox.selected').each(function(k,v){
			var orderId = $(v).data('order-id');
			var order = parsedOrders[orderId];

			var totalCopy = $('input.printCopy').val();

			if (DEFAULT_PRINT_MODE === PRINT_MODE_SINGLE_LABEL_PER_PAGE) {
				generateOrderPrint(order, totalCopy);
			} else if (DEFAULT_PRINT_MODE === PRINT_MODE_THREE_LABEL_PER_PAGE) {
				generateOrderPrint2(order, totalCopy);
			}
		})
	}

	//single label per page
	function generateOrderPrint(order, copy) {
		for (var i = 0; i < copy; i++) {
			order.boxLabel = i + 1 + " of " + copy;
			addOnePage(order);
		}
	}

	function addOnePage(order) {
		LODOP.NewPage();
		//QR CODE
		var qrvalue = 'https://www.cityb2b.com/company/customer_order_redeem_qrscan?qrscanredeemcode=' + order.redeem_code;
		LODOP.ADD_PRINT_BARCODE(0,280,60,60,"QRCode",qrvalue);
		// LODOP.ADD_PRINT_IMAGE(0,250,60,60,"<img border='0' src='http://www.lodop.net/demolist/PrintSample8.jpg' />");
		LODOP.SET_PRINT_STYLEA(0,"Stretch",2);
		LODOP.ADD_PRINT_HTM(0, 0, "100%","100%","<body style='font-size:12px' leftmargin=0 topmargin=0>"+labelTemplate(order)+"</body>");
	}

	function preview() {
		init();
		LODOP.PREVIEW();
	}

	function print() {
		init();
		LODOP.PRINT();
	}

	function labelTemplate(order) {
		var html = '';

		html+='<p>'+order.subtitle+'</p>';


		html+='<table style="width: 100%;font-size:30px;font-weight:bolder" cellspacing="0" cellpadding="0">';
		html+='<tr>';
		html+=	'<td style="font-size:18px ;border-width: 2px 1px 1px 2px;border-style:solid;text-align: left; ">&nbsp;&nbsp;'+new Date(order.logistic_delivery_date*1000).toLocaleDateString("en-US")+'</td>';
		html+=	'<td style=" border-width: 1px 1px 1px 1px;border-style:solid;text-align: right;"><span style="font-size:18px">Drop No:&nbsp;&nbsp;</span>'+order.logistic_stop_No+'&nbsp;&nbsp;</td>';
		html+='</tr>';
		html+='<tr>';
		html+=	'<td style="border-width: 1px 1px 1px 1px;border-style:solid;text-align: left;" >&nbsp;&nbsp;'+order.logistic_sequence_No+'</td>';
		html+=	'<td style="border-width: 1px 1px 1px 1px;border-style:solid;text-align: right;" >&nbsp;<span style="font-size:18px">Box </span> '+order.boxLabel+'&nbsp;&nbsp;</td>';

		html+='</tr>';
		html+='</table>';

		html+='<br>';
		html+='	<label>Deliver Address:</label>';
		html+='<br>';
		html+='<div style="border: 3px solid black; padding: 5px">';
				html+='	<span style="font-weight: bolder;">'+order.address + '</span>';

		html+='</div>';
		html+='<div>';
		html+='	<label>Note:</label>  ';
		html+='	<small>'+order.message_to_business+'</small>';
		html+='</div>';
		html+='<br><br>';
		html+='<hr><br>';

		html+='<div>';
		html+='	<label>Order ID:</label>';
		html+='	<span style="float:right;">'+order.orderId+'</span>';
		html+='</div>';
		html+='<div>';
		html+='	<label>Name:</label>';
		html+='	<span style="float:right;">'+order.first_name+' '+order.last_name+'</span>';
		html+='</div>';
		html+='<div>';
		html+='	<label>Phone:</label>';
		html+='	<span style="float:right;">'+order.phone+'</span>';
		html+='</div>';

		html+='<div>';
		html+='	<label>Truck No:</label>';
		html+='	<span style="float:right;">'+order.logistic_truck_No+'</span>';
		html+='</div>';
		html+='<div>';
		html+='	<label>Stop No:</label>';
		html+='	<span style="float:right;">'+order.logistic_stop_No+'</span>';
		html+='</div>';
		html+='<br><hr><br>';
		html+='<div>';
		html+='	<label>Suppliers Count:</label>';
		html+='	<span style="float:right;">'+order.logistic_suppliers_count+'</span>';
		html+='</div>';
		html+='<label>Suppliers Name:</label>';
		html+='<div style="border: 1px solid black; padding: 5px">';
		html+='	<span >'+order.logistic_suppliers_info+'</span>';
		html+='</div>';

		return html;
	}

	function labelTemplate_ThreeLabelPerPage_Main(order, boxLabel) {

	}

	function labelTemplate_ThreeLabelPerPage_Sub(order, boxLabel) {

	}
	//max 3 label per page
	function generateOrderPrint2(order, copy) {
		LODOP.SET_PRINT_STYLEA(0,"Stretch",2);

		LODOP.NewPage();
		//QR CODE
		var qrvalue = 'https://www.cityb2b.com/company/customer_order_redeem_qrscan?qrscanredeemcode=' + order.redeem_code;
		LODOP.ADD_PRINT_BARCODE(0,280,60,60,"QRCode",qrvalue);
		// LODOP.ADD_PRINT_IMAGE(0,250,60,60,"<img border='0' src='http://www.lodop.net/demolist/PrintSample8.jpg' />");

		var template = '';
		template += labelTemplate_ThreeLabelPerPage_Main(order, "1 of " + copy);

		if (copy >1) {

			template += "<div style='height:70px'></div>";
			template += labelTemplate_ThreeLabelPerPage_Sub(order, "2 of " + copy);
		}

	/*	if (copy > 2) {
			template += "<div style='height:70px'></div>";
			template += labelTemplate_ThreeLabelPerPage_Sub(order, "3 of " + copy);
		} */

		LODOP.ADD_PRINT_HTM(0, 0, "100%","100%","<body  style='font-size:12px' leftmargin=0 topmargin=0>"+template+"</body>");




	if (copy > 2) {
			for (var i = 1; i <= copy/2-1; i++) {
				LODOP.NewPage();
				//QR CODE
				var qrvalue = 'https://www.cityb2b.com/company/customer_order_redeem_qrscan?qrscanredeemcode=' + order.redeem_code;
				LODOP.ADD_PRINT_BARCODE(0,280,60,60,"QRCode",qrvalue);
				// LODOP.ADD_PRINT_IMAGE(0,250,60,60,"<img border='0' src='http://www.lodop.net/demolist/PrintSample8.jpg' />");

				var template = '';
				template += labelTemplate_ThreeLabelPerPage_Main(order,  i*2+1 + " of " + copy);




				template += "<div style='height:70px'></div>";
				template += labelTemplate_ThreeLabelPerPage_Sub(order, i*2+2+" of " + copy);

				LODOP.ADD_PRINT_HTM(0, 0, "100%","100%","<body  style='font-size:12px' leftmargin=0 topmargin=0>"+template+"</body>");
			}

			if (copy%2 == 1) {
				LODOP.NewPage();
				var qrvalue = 'https://www.cityb2b.com/company/customer_order_redeem_qrscan?qrscanredeemcode=' + order.redeem_code;
				LODOP.ADD_PRINT_BARCODE(0,280,60,60,"QRCode",qrvalue);

				template = ''
				template += labelTemplate_ThreeLabelPerPage_Main(order, copy +" of " + copy);
				LODOP.ADD_PRINT_HTM(0, 0, "100%","100%","<body  style='font-size:12px' leftmargin=0 topmargin=0>"+template+"</body>");
			}


		}










		if (copy > 12) {
			for (var i = 1; i < copy-1; i++) {


				if ((i+2)%2 == 1) { //如果是3，5，7，9 copy 则新建一个打印页，首先打带二维码的 main页面。
				LODOP.NewPage();
				var qrvalue = 'https://www.cityb2b.com/company/customer_order_redeem_qrscan?qrscanredeemcode=' + order.redeem_code;
				LODOP.ADD_PRINT_BARCODE(0,280,60,60,"QRCode",qrvalue);
				// LODOP.ADD_PRINT_IMAGE(0,250,60,60,"<img border='0' src='http://www.lodop.net/demolist/PrintSample8.jpg' />");

				var template = '';
				template += labelTemplate_ThreeLabelPerPage_Main(order,i+2 + " of " + copy);
                } else {
					template += "<div style='height:360px'></div>";
					template += labelTemplate_ThreeLabelPerPage_Sub(order, i+2 +" of " + copy);
					}



				/*template += "<div style='height:70px'></div>";
				template += labelTemplate_ThreeLabelPerPage_Sub(order, i*3+3 +" of " + copy); */

				LODOP.ADD_PRINT_HTM(0, 0, "100%","100%","<body  style='font-size:12px' leftmargin=0 topmargin=0>"+template+"</body>");
			}


		}


	}


</script>
</body>

</html>

